{"ast":null,"code":"export default {\n  name: 'GoodsMall',\n  props: {\n    tableData: Array\n  },\n\n  data() {\n    return {\n      search: ''\n    };\n  },\n\n  methods: {\n    handleAdd(row) {\n      const params = new URLSearchParams();\n      params.append('name', row.name);\n      params.append('remarks', row.remarks);\n      params.append('price', row.price);\n      this.$http.post('/api/mall/addCart', params).then(() => {\n        this.$message({\n          message: '添加成功',\n          type: 'success'\n        });\n        this.$emit('updateCart');\n      }).catch(error => {\n        console.log(error);\n        this.$message.error('添加失败');\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoDA;EACAA,iBADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC;IADA;EAGA,CATA;;EAUAC;IACAC;MACA;MACAC;MACAA;MACAA;MACA,6CACAC,IADA,CACA;QACA;UACAC,eADA;UAEAC;QAFA;QAIA;MACA,CAPA,EAQAC,KARA,CAQAC;QACAC;QACA;MACA,CAXA;IAYA;;EAlBA;AAVA","names":["name","props","tableData","data","search","methods","handleAdd","params","then","message","type","catch","error","console"],"sourceRoot":"src/views/user/mall","sources":["goods.vue"],"sourcesContent":["<template>\n    <div>\n        <el-container>\n            <el-main>\n                <!--表格-->\n                <el-table\n                :data=\"tableData.filter(data => !search || data.name.toLowerCase().includes(search.toLowerCase()))\"\n                max-height = \"600\"\n                border\n                style=\"width: 100%\">\n                    <!--每行输出的内容-->\n                    <el-table-column\n                    label=\"商品名\"\n                    width=\"200\"\n                    prop=\"name\">\n                    </el-table-column>\n                    <el-table-column\n                    label=\"备注\"\n                    width=\"200\"\n                    prop=\"remarks\">\n                    </el-table-column>\n                    <el-table-column\n                    label=\"价格\"\n                    width=\"200\"\n                    prop=\"price\">\n                    </el-table-column>\n                    <el-table-column\n                    fixed=\"right\"\n                    width=\"280\"\n                    align=\"center\">\n                        <!--搜索框，注意一定要#header，不能写v-slot，不然有显示问题-->\n                        <template #header>\n                            <el-input\n                            v-model=\"search\"\n                            placeholder=\"输入商品名搜索\"\n                            ></el-input>\n                        </template>\n                        <!--编辑与删除按钮-->\n                        <template slot-scope=\"scope\">\n                            <el-button\n                            type=\"primary\"\n                            @click=\"handleAdd(scope.row)\">加入购物车</el-button>\n                        </template>\n                    </el-table-column>\n                </el-table>\n\n            </el-main>\n        </el-container>\n    </div>\n</template>\n\n<script>\nexport default {\n  name: 'GoodsMall',\n  props: {\n    tableData: Array\n  },\n  data () {\n    return {\n      search: ''\n    }\n  },\n  methods: {\n    handleAdd (row) {\n      const params = new URLSearchParams()\n      params.append('name', row.name)\n      params.append('remarks', row.remarks)\n      params.append('price', row.price)\n      this.$http.post('/api/mall/addCart', params)\n        .then(() => {\n          this.$message({\n            message: '添加成功',\n            type: 'success'\n          })\n          this.$emit('updateCart')\n        })\n        .catch((error) => {\n          console.log(error)\n          this.$message.error('添加失败')\n        })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}