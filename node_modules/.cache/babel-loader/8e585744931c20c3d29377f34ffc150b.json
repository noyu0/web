{"ast":null,"code":"import UserNav from 'components/nav/userNav';\nimport HeaderPage from 'components/header/headerPage';\nimport MyGoods from 'views/user/mine/myGoods';\nimport MyCart from '../cart/myCart';\nimport GoodsMall from '../mall/goods';\nexport default {\n  name: 'UserHome',\n  components: {\n    UserNav,\n    HeaderPage,\n    MyGoods,\n    MyCart,\n    GoodsMall\n  },\n\n  data() {\n    return {\n      isShow: '',\n      goods: [],\n      mygoods: [],\n      cart: [],\n      show1: false,\n      show2: false,\n      show3: false,\n      Values: ['1-1', '2-1', '3-1']\n    };\n  },\n\n  methods: {\n    // 从数据库获取数据\n    getData() {\n      this.$http.get('/api/mall/getGoods').then(res => {\n        this.goods = res.data.data;\n      });\n    },\n\n    updateCart() {\n      this.$http.get('/api/mall/getCart').then(res => {\n        this.cart = res.data.data;\n      });\n    },\n\n    updateMyGoods() {\n      this.$http.get('/api/mall/getmyGoods').then(res => {\n        this.mygoods = res.data.data;\n      });\n    },\n\n    updateIsShow(key) {\n      this.isShow = key;\n    }\n\n  },\n  watch: {\n    isShow: {\n      handler(newValue, oldValue) {\n        // 将原页面内容隐藏，新页面内容显示\n        if (oldValue === '1-1') {\n          this.show1 = false;\n        } else if (oldValue === '2-1') {\n          this.show2 = false;\n        } else if (oldValue === '3-1') {\n          this.show3 = false;\n        }\n\n        if (newValue === '1-1') {\n          this.show1 = true;\n        } else if (newValue === '2-1') {\n          this.show2 = true;\n        } else if (newValue === '3-1') {\n          this.show3 = true;\n        }\n      }\n\n    }\n  },\n\n  mounted() {\n    // 利用vuex获取上一页的index\n    this.isShow = this.$store.state.index; // 每次重新渲染都获取一次数据库信息\n\n    this.getData();\n    this.updateCart();\n    this.updateMyGoods();\n  }\n\n};","map":{"version":3,"mappings":"AA2BA;AACA;AACA;AACA;AACA;AAEA;EACAA,gBADA;EAEAC;IACAC,OADA;IAEAC,UAFA;IAGAC,OAHA;IAIAC,MAJA;IAKAC;EALA,CAFA;;EASAC;IACA;MACAC,UADA;MAEAC,SAFA;MAGAC,WAHA;MAIAC,QAJA;MAKAC,YALA;MAMAC,YANA;MAOAC,YAPA;MAQAC;IARA;EAUA,CApBA;;EAqBAC;IACA;IACAC;MACA,qCACAC,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAPA;;IAQAC;MACA,oCACAF,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAbA;;IAcAE;MACA,uCACAH,IADA,CACAC;QACA;MACA,CAHA;IAIA,CAnBA;;IAoBAG;MACA;IACA;;EAtBA,CArBA;EA6CAC;IACAf;MACAgB;QACA;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QAEA;UACA;QACA,CAFA,MAEA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA;;IAlBA;EADA,CA7CA;;EAmEAC;IACA;IACA,sCAFA,CAGA;;IACA;IACA;IACA;EACA;;AA1EA","names":["name","components","UserNav","HeaderPage","MyGoods","MyCart","GoodsMall","data","isShow","goods","mygoods","cart","show1","show2","show3","Values","methods","getData","then","res","updateCart","updateMyGoods","updateIsShow","watch","handler","mounted"],"sourceRoot":"src/views/user/home","sources":["index.vue"],"sourcesContent":["<template>\n    <div class=\"userBody\">\n      <div class=\"header\">\n        <header-page></header-page>\n      </div>\n      <div class=\"main-container\">\n        <user-nav @conveyIsShow=\"updateIsShow\"></user-nav>\n        <div v-show=\"show1\">\n            <my-goods\n            :tableData=\"goods\"></my-goods>\n        </div>\n        <div v-show=\"show2\">\n            <my-cart\n            @updateCart=\"updateCart\"\n            @updateMyGoods=\"updateMyGoods\"\n            :tableData=\"cart\"></my-cart>\n        </div>\n        <div v-show=\"show3\">\n            <goods-mall\n            @updateCart=\"updateCart\"\n            :tableData=\"goods\"></goods-mall>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport UserNav from 'components/nav/userNav'\nimport HeaderPage from 'components/header/headerPage'\nimport MyGoods from 'views/user/mine/myGoods'\nimport MyCart from '../cart/myCart'\nimport GoodsMall from '../mall/goods'\n\nexport default {\n  name: 'UserHome',\n  components: {\n    UserNav,\n    HeaderPage,\n    MyGoods,\n    MyCart,\n    GoodsMall\n  },\n  data () {\n    return {\n      isShow: '',\n      goods: [],\n      mygoods: [],\n      cart: [],\n      show1: false,\n      show2: false,\n      show3: false,\n      Values: ['1-1', '2-1', '3-1']\n    }\n  },\n  methods: {\n    // 从数据库获取数据\n    getData () {\n      this.$http.get('/api/mall/getGoods')\n        .then((res) => {\n          this.goods = res.data.data\n        })\n    },\n    updateCart () {\n      this.$http.get('/api/mall/getCart')\n        .then((res) => {\n          this.cart = res.data.data\n        })\n    },\n    updateMyGoods () {\n      this.$http.get('/api/mall/getmyGoods')\n        .then((res) => {\n          this.mygoods = res.data.data\n        })\n    },\n    updateIsShow (key) {\n      this.isShow = key\n    }\n  },\n  watch: {\n    isShow: {\n      handler (newValue, oldValue) {\n        // 将原页面内容隐藏，新页面内容显示\n        if (oldValue === '1-1') {\n          this.show1 = false\n        } else if (oldValue === '2-1') {\n          this.show2 = false\n        } else if (oldValue === '3-1') {\n          this.show3 = false\n        } \n\n        if (newValue === '1-1') {\n          this.show1 = true\n        } else if (newValue === '2-1') {\n          this.show2 = true\n        } else if (newValue === '3-1') {\n          this.show3 = true\n        }\n      }\n    }\n  },\n  mounted () {\n    // 利用vuex获取上一页的index\n    this.isShow = this.$store.state.index\n    // 每次重新渲染都获取一次数据库信息\n    this.getData()\n    this.updateCart()\n    this.updateMyGoods()\n  }\n}\n</script>\n\n<style scoped>\n    .userBody {\n      height: 100%;\n    }\n    .main-container {\n      display: flex;\n      flex-direction: row;\n      height: 100%;\n    }\n    .header {\n      width: 100%;\n    }\n    .content {\n      height: 100%;\n      width: 100%;\n    }\n</style>\n"]},"metadata":{},"sourceType":"module"}